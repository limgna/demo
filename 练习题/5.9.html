<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5.9 幸运转盘</title>
</head>

<body>
    <p>
        9. 利用全局变量和函数，设计模拟幸运数字机游戏。设幸运数字为8，每次由计算机随机产生3个1-9之间(包括1和9）的随机数，当这3个随机数中有一个数字为8时，就算赢了一次，要求利用函数计算获胜率。
    </p>
    <script>
        var total = 0;
        var win = 0;
        var winRate = 0;
        var numStr = '';
        var isWin = false;

        function lucky() {
            var num = 0;
            numStr = '';
            isWin = false;
            for (var i = 0; i < 3; i++) {
                num = Math.floor(Math.random() * 9 + 1);
                numStr += num;
                if (num == 8) {
                    // 赢了
                    isWin = true;
                }
            }
            if (isWin) {
                win++;
            }
            total++;
            winRate = (win / total) * 100 + '%';
        }

        while (true) {
            lucky();
            if(!confirm(numStr + '\n' + (isWin ? '赢' : '输') + '\n胜率:' + winRate + ',继续吗')){
                break;
            }
        }
    </script>
</body>

</html>